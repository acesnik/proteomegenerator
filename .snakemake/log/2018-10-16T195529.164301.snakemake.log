Building DAG of jobs...
Creating conda environment /lila/home/chenz4/proteomegenerator/envs/g2g.yaml...
Downloading remote packages.
Environment for ../../../../home/chenz4/proteomegenerator/envs/g2g.yaml created (location: .snakemake/conda/49f101f6)
Using shell: /bin/bash
Provided cluster nodes: 50
Job counts:
	count	jobs
	1	AlignFastqReadsByRG
	1	ApplyBQSR
	1	BaseRecalibrator
	1	BuildBamIndex
	1	FilterMutectCalls
	2	LongOrfs
	1	MarkDuplicates
	1	MergeUnmappedAndAlignedBAMs
	1	Mutect2_tumor_only
	2	Predict
	1	STAR_GTF
	1	SelectSNPs
	1	SortAndFixRealignedBamTags
	1	StringTie_GTF
	1	UCSC_GTF
	1	UnalignFastqReadsByRG
	1	all
	2	blastp
	2	cdna_alignment_orf_to_genome_orf
	1	filter
	1	g2g_VCI
	1	g2g_patch
	2	gff3_file_to_bed
	2	gff3_file_to_proteins
	2	gtf_file_to_cDNA_seqs
	2	gtf_to_alignment_gff3
	1	index
	2	maxQuant
	1	merge
	2	mqpar_conversion
	2	reorderFASTA
	42

rule AlignFastqReadsByRG:
    input: /lila/home/chenz4/proteomegenerator/testfiles/K052_DNA_subset_r1.fastq, /lila/home/chenz4/proteomegenerator/testfiles/K052_DNA_subset_r2.fastq
    output: out/preprocess/K052_tumor.aligned.bam
    jobid: 41
    benchmark: out/benchmarks/preprocess/K052_tumor.align.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 41 with external jobid 'Job <4869451> is submitted to default queue <cpuqueue>.'.

rule UnalignFastqReadsByRG:
    input: /lila/home/chenz4/proteomegenerator/testfiles/K052_DNA_subset_r1.fastq, /lila/home/chenz4/proteomegenerator/testfiles/K052_DNA_subset_r2.fastq
    output: out/preprocess/K052_tumor.unaligned.bam
    jobid: 42
    benchmark: out/benchmarks/preprocess/K052_tumor.unaligned.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 42 with external jobid 'Job <4869452> is submitted to default queue <cpuqueue>.'.
Finished job 42.
1 of 42 steps (2%) done
Finished job 41.
2 of 42 steps (5%) done

rule MergeUnmappedAndAlignedBAMs:
    input: out/preprocess/K052_tumor.aligned.bam, out/preprocess/K052_tumor.unaligned.bam
    output: out/preprocess/K052_tumor.aligned_unaligned_merged.bam
    jobid: 40
    benchmark: out/benchmarks/preprocess/K052_tumor.merge_aubam.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 40 with external jobid 'Job <4869453> is submitted to default queue <cpuqueue>.'.
Finished job 40.
3 of 42 steps (7%) done

rule MarkDuplicates:
    input: out/preprocess/K052_tumor.aligned_unaligned_merged.bam
    output: out/preprocess/K052_tumor.merged.RGmerged.dedup.bam
    jobid: 39
    benchmark: out/benchmarks/preprocess/K052_tumor.markdups.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 39 with external jobid 'Job <4869454> is submitted to default queue <cpuqueue>.'.
Finished job 39.
4 of 42 steps (10%) done

rule SortAndFixRealignedBamTags:
    input: out/preprocess/K052_tumor.merged.RGmerged.dedup.bam
    output: out/preprocess/K052_tumor.merged.RGmerged.dedup.fixedtags.readyforBQSR.bam, out/preprocess/K052_tumor.merged.RGmerged.dedup.fixedtags.readyforBQSR.bai
    jobid: 37
    benchmark: out/benchmarks/preprocess/K052_tumor_SortAndFixTags.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 37 with external jobid 'Job <4869455> is submitted to default queue <cpuqueue>.'.
Finished job 37.
5 of 42 steps (12%) done

rule BaseRecalibrator:
    input: out/preprocess/K052_tumor.merged.RGmerged.dedup.fixedtags.readyforBQSR.bam
    output: out/preprocess/K052_tumor.BQSR.report
    jobid: 38
    benchmark: out/benchmarks/preprocess/K052_tumor_BQSR.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 38 with external jobid 'Job <4869456> is submitted to default queue <cpuqueue>.'.
Finished job 38.
6 of 42 steps (14%) done

rule ApplyBQSR:
    input: out/preprocess/K052_tumor.BQSR.report, out/preprocess/K052_tumor.merged.RGmerged.dedup.fixedtags.readyforBQSR.bam
    output: out/preprocess/K052_tumor.recal.analysis_ready.bam
    jobid: 36
    benchmark: out/benchmarks/preprocess/K052_tumor_apply_bqsr.txt
    wildcards: SAMPLE_NAME=K052_tumor

Submitted job 36 with external jobid 'Job <4869457> is submitted to default queue <cpuqueue>.'.
Finished job 36.
7 of 42 steps (17%) done

rule Mutect2_tumor_only:
    input: out/preprocess/K052_tumor.recal.analysis_ready.bam
    output: out/variants/K052_tumor_m2.vcf.gz, out/variants/K052_tumor_m2.vcf.gz.tbi
    jobid: 34
    benchmark: out/benchmarks/variants/K052_tumor_m2_tumor_only.txt
    wildcards: RG_TUMOR=K052_tumor

Submitted job 34 with external jobid 'Job <4869458> is submitted to default queue <cpuqueue>.'.
Finished job 34.
8 of 42 steps (19%) done

rule FilterMutectCalls:
    input: out/variants/K052_tumor_m2.vcf.gz, out/variants/K052_tumor_m2.vcf.gz.tbi
    output: out/variants/K052_tumor_m2_filtered.vcf.gz, out/variants/K052_tumor_m2_filtered.vcf.gz.tbi
    jobid: 32
    benchmark: out/benchmarks/variants/K052_tumor_m2_filter.txt
    wildcards: RG_TUMOR=K052_tumor

Submitted job 32 with external jobid 'Job <4869465> is submitted to default queue <cpuqueue>.'.
Finished job 32.
9 of 42 steps (21%) done

rule SelectSNPs:
    input: out/variants/K052_tumor_m2_filtered.vcf.gz, out/variants/K052_tumor_m2_filtered.vcf.gz.tbi
    output: out/variants/K052_tumor_m2_filtered_snps.vcf.gz
    jobid: 29
    benchmark: out/benchmarks/variants/K052_tumor_select_snp.txt
    wildcards: RG_TUMOR=K052_tumor

Submitted job 29 with external jobid 'Job <4869466> is submitted to default queue <cpuqueue>.'.
Finished job 29.
10 of 42 steps (24%) done

rule g2g_VCI:
    input: out/variants/K052_tumor_m2_filtered_snps.vcf.gz
    output: out/variants/K052_tumor.vci.gz
    jobid: 27
    benchmark: out/benchmarks/variants/K052_tumor_g2g_VCI.txt
    wildcards: RG_TUMOR=K052_tumor

Submitted job 27 with external jobid 'Job <4869467> is submitted to default queue <cpuqueue>.'.
Finished job 27.
11 of 42 steps (26%) done

rule g2g_patch:
    input: out/variants/K052_tumor.vci.gz
    output: out/custom_ref/K052_tumor_SNP_patched.fa
    jobid: 22
    benchmark: out/benchmarks/variants/K052_tumor_g2g_patch.txt
    wildcards: RG_TUMOR=K052_tumor

Submitted job 22 with external jobid 'Job <4869468> is submitted to default queue <cpuqueue>.'.
    Error in rule g2g_patch:
        jobid: 22
        output: out/custom_ref/K052_tumor_SNP_patched.fa
        conda-env: /lila/data/kentsis/testfiles/pgm2_test/.snakemake/conda/49f101f6

Job failed, going on with independent jobs.
Exiting because a job execution failed. Look above for error message
Complete log: /lila/home/chenz4/proteomegenerator/.snakemake/log/2018-10-16T195529.164301.snakemake.log
